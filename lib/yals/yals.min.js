(function(e,t,n){"use strict";var r=r||{debug:!1};e.Yals=r})(window,window.jQuery),function(e,t,n,r){"use strict";n.Group=function(){this.childs=[]};var i=n.Group.prototype;i.addChild=function(e){return this.childs.push(e),this},i.addChilds=function(e){var t=e.length,n;for(n=0;n<t;n++)this.addChild(e[n]);return this},i.hasChild=function(e){return this.childs.indexOf(e)!==-1},i.getChilds=function(){return this.childs},i.setChilds=function(e){return this.childs=e,this},i.removeChild=function(e){var t=this.childs.indexOf(e);if(t===-1)throw new RangeError("Object not found!");return this.childs.splice(t,1),this},i.removeChilds=function(e){var t;for(t=e.length-1;t>=0;t--)this.removeChild(e[t]);return this},i.clearChilds=function(){return this.childs.length=0,this}}(window,window.jQuery,window.Yals||{}),function(e,t,n,r){"use strict";var i=0;n.Scene=function(r){n.Group.apply(this,arguments);var s,o={id:"canvas-"+i,width:e.innerWidth,height:e.innerHeight},u,a,f=function(e){var t=document.createElement("canvas");return t.id=r.id||"canvas-"+i,t.setAttribute("tabindex","0"),t.width=0,t.height=0,document.body.appendChild(t),i++,t};r=t.extend({},o,r),Object.prototype.toString.call(r.id)==="[object String]"?s=document.getElementById(r.id)||f(r.id):s=f(),r.width!==o.width&&s.width?u=r.width:u=s.width||r.width,r.height!==o.height&&s.height?a=r.height:a=s.height||r.height,s.width=u|0,s.height=a|0,this.width=s.width,this.height=s.height,this.canvasElement=s,this.context=s.getContext("2d"),this.childs=[]},n.Scene.prototype=Object.create(n.Group.prototype);var s=n.Scene.prototype,o=function(e){var t=this.context,r=e.childs,i=r.length,s,u;for(u=0;u<i;u++)s=r[u],s instanceof n.Group?o(s):(t.save(),s.render(t),t.restore())};s.render=function(){var e=this.childs,t=this.context,r=e.length,i,s,o,u,a;for(s=0;s<r;s++){i=e[s];if(i instanceof n.Group){u=i.childs;for(o=0,a=u.length;o<a;o++)t.save(),u[o].render(t),t.restore()}else t.save(),i.render(t),t.restore();n.debug&&console.log(e[s])}}}(window,window.jQuery,window.Yals||{}),function(e,t,n,r){"use strict";n.Game=function(e){this._ticksPerSecond=e||30,this._scene=null};var i=n.Game.prototype;i.start=function(e){},i.update=function(e){},i.render=function(e){},i.setScene=function(e){return this._scene=e,this}}(window,window.jQuery,window.Yals||{}),function(e,t,n,r){"use strict";var i=10;n.GameManager=function(e){this._game=e};var s=n.GameManager.prototype;s.start=function(){var t=this._game,n=1e3/t._ticksPerSecond,r=Date.now(),i=r,s=i,o=0,u=n,a=0,f=function(){var n;i=Date.now(),n=i-s,n>25&&(n=25),s=i,a+=n;var r=0;while(a>=u)t.update(),o+=u,a-=u,r++;r&&t.render(),e.requestAnimationFrame(f)};t.start(),e.requestAnimationFrame(f)},s.setScene=function(e){return this._game.setScene(e),this}}(window,window.jQuery,window.Yals||{}),function(e,t,n,r){"use strict";n.GameTime=function(){this.startingTime=Date.now(),this.lastTime=this.startingTime,this.currentTime=this.startingTime,this.dt=this.currentTime-this.lastTime},n.GameTime.prototype.tick=function(){this.lastTime=this.currentTime,this.currentTime=Date.now(),this.dt=this.currentTime-this.lastTime}}(window,window.jQuery,window.Yals||{}),function(e,t,n,r){"use strict";var i=function(){var e={},t=Math.PI/180;return function(n){return e[n]||(e[n]=n*t)}}();n.Matrix2D=function(e,t,n,r,i,s){this.m=[e,t,0,n,r,0,i,s,1]};var s=n.Matrix2D.prototype;s.determinant=function(){var e=this.m;return e[0]*e[4]-e[3]*e[1]},s.invert=function(){var e=this.determinant(),t=this.m,n,r,i,s,o,u;return e!==0&&(n=t[4],r=-t[1],i=-t[3],s=t[0],o=t[3]*t[7]-t[6]*t[4],u=t[6]*t[1]-t[0]*t[7],t[0]=n/e,t[1]=r/e,t[3]=i/e,t[4]=s/e,t[6]=o/e,t[7]=u/e),this},s.translate=function(e,t){var n=this.m;return n[6]+=e,n[7]+=t,this},s.rotate=function(e){e=i(e);var t=Math.sin(e),n=Math.cos(e),r=this.m,s=r[0],o=r[3],u=r[6];return r[0]=s*n-r[1]*t,r[1]=s*t+r[1]*n,r[3]=o*n-r[4]*t,r[4]=o*t+r[4]*n,r[6]=u*n-r[7]*t,r[7]=u*t+r[7]*n,this},s.scale=function(e,t){var n=this.m;return n[0]*=e,n[1]*=t,n[3]*=e,n[4]*=t,n[6]*=e,n[7]*=t,this},s.applyToVector=function(e){var t=this.m,n=e.x,r=e.y;e.x=n*t[0]+r*t[3]+t[6],e.y=n*t[1]+r*t[4]+t[7]},s.concat=function(e){var t=this.m,n=e.m,r=t[0],i=t[3],s=t[6];return t[0]=n[0]*r+n[3]*t[1],t[1]=n[1]*r+n[4]*t[1],t[3]=n[0]*i+n[3]*t[4],t[4]=n[1]*i+n[4]*t[4],t[6]=n[0]*s+n[3]*t[7]+n[6],t[7]=n[1]*s+n[4]*t[7]+n[7],this},s.append=function(e){var t=this.m,n=e.m,r=t[0],i=t[2],s=t[3],o=t[4];return t[0]=r*n[0]+s*n[1],t[1]=i*n[0]+o*n[1],t[3]=r*n[3]+s*n[4],t[4]=i*n[3]+o*n[4],t[6]=r*n[6]+s*n[7]+t[6],t[7]=i*n[6]+o*n[7]+t[7],this},s.applyToContext=function(e){var t=this.m;return e.setTransform(t[0],t[1],t[3],t[4],t[6],t[7]),this}}(window,window.jQuery,window.Yals||{}),function(e,t,n,r){"use strict";n.Vector2D=function(e,t,n){this.x=n?e|0:e,this.y=n?t|0:t};var i=n.Vector2D.prototype;i.set=function(e,t){return e instanceof n.Vector2D&&(t=e.y,e=e.x),this.x=e,this.y=t,this},i.clone=function(){return new n.Vector2D(this.x,this.y)},i.isEquals=function(e){return this.x===e.x&&this.y===e.y},i.isAligned=function(e,t){var n=this.getNormalized(),r=e.getNormalized();return t?Math.abs(Math.acos(n.dot(r)))<=t:n.isEquals(r)},i.add=function(e){return this.x+=e.x,this.y+=e.y,this},i.getAdded=function(e){return new n.Vector2D(this.x+e.x,this.y+e.y)},i.subtract=function(e){return this.x-=e.x,this.y-=e.y,this},i.getSubtracted=function(e){return new n.Vector2D(this.x-e.x,this.y-e.y)},i.divide=function(e){return this.x/=e.x,this.y/=e.y,this},i.getDivided=function(e){return new n.Vector2D(this.x/e.x,this.y/e.y)},i.multiply=function(e){return this.x*=e.x,this.y*=e.y,this},i.getMultiplied=function(e){return new n.Vector2D(this.x*e.x,this.y*e.y)},i.scale=function(e){return this.x*=e,this.y*=e,this},i.getScaled=function(e){return new n.Vector2D(this.x*e,this.y*e)},i.normalize=function(){var e=this.length();return this.x/=e,this.y/=e,this},i.getNormalized=function(){var e=this.length();return new n.Vector2D(this.x/e,this.y/e)},i.length=function(){return this.y===0?this.x>=0?this.x:-this.x:this.x===0?this.y>=0?this.y:-this.y:Math.sqrt(this.x*this.x+this.y*this.y)},i.squaredLength=function(){return this.x*this.x+this.y*this.y},i.dot=function(e){return this.x*e.x+this.y*e.y},i.cross=function(e){return this.x*e.y-this.y*e.x},i.slope=function(){return this.y/this.x},i.angleBetween=function(e){return Math.acos(this.dot(e)/(this.length()*e.length()))},i.angle=function(){return Math.atan2(this.y,this.x)},i.distance=function(e){var t=e.x-this.x,n=e.y-this.y,r=Math.sqrt(t*t+n*n);return r},i.squaredDistance=function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},i.abs=function(){this.x=this.x>0?this.x:-this.x,this.y=this.y>0?this.y:-this.y},i.map=function(e,t,n){var r=this.x;return this.x=e.x+r*t.x+this.y*n.x,this.y=e.y+r*t.y+this.y*n.y,this},i.getMapped=function(e,t,r){return new n.Vector2D(e.x+this.x*t.x+this.y*r.x,e.y+this.x*t.y+this.y*r.y)},i.clamp=function(e,t){return this.x<e.x?this.x=e.x:this.x>t.x&&(this.x=t.x),this.y<e.y?this.y=e.y:this.y>e.y&&(this.y=t.y),this},i.lerp=function(e,t){var n=this.x,r=this.y;return this.x=n+t*(e.x-n),this.y=r+t*(e.y-r),this},i.getLerp=function(e,t){var r=this.x,i=this.y;return new n.Vector2D(r+t*(e.x-r),i+t*(e.y-i))},i.limit=function(e){var t=this.squaredLength();if(t>e*e&&t>0){var n=e/Math.sqrt(t);this.x*=n,this.y*=n}return this},i.getLimited=function(e){var t=this.squaredLength(),r=this.x,i=this.y;if(t>e*e&&t>0){var s=e/Math.sqrt(t);r*=s,i*=s}return new n.Vector2D(r,i)},i.proj=function(e){return this.dot(e)/e.dot(e)},i.projectOnto=function(e){var t=this.proj(e);return this.x=e.x*t,this.y=e.y*t,this},i.getProj=function(e){var t=this.proj(e);return new n.Vector2D(t*e.x,t*e.y)},i.perp=function(e){var t=this.proj(e);return Math.sqrt(this.squaredLength()+t*t)},i.perpOnto=function(e){var t=this.perp(e),n=this.getProj(e).subtract(this).normalize();return this.x=n.x*t,this.y=n.y*t,this},i.getPerp=function(e){var t=this.perp(e),n=this.getProj(e).subtract(this).normalize();return n.scale(t)},i.rotate=function(e){var t=this.x,n=this.y,r=Math.cos(e),i=Math.sin(e);return this.x=t*r-n*i,this.y=t*i+n*r,this},i.getRotated=function(e){var t=this.x,r=this.y,i=Math.cos(e),s=Math.sin(e);return new n.Vector2D(t*i-r*s,t*s+r*i)},i.rotateAroundPivot=function(e,t){return this.x-=e.x,this.y-=e.y,this.rotate(t),this.x+=e.x,this.y+=e.y,this},i.getRotatedAroundPivot=function(e,t){var r=new n.Vector2D(this.x,this.y);return r.x-=e.x,r.y-=e.y,r.rotate(t),r.x+=e.x,r.y+=e.y,r},i.interpolate=function(e,t){return this.x=this.x*(1-t)+e.x*t,this.y=this.y*(1-t)+e.y*t,this},i.getInterpolated=function(e,t){return new n.Vector2D(this.x*(1-t)+e.x*t,this.y*(1-t)+e.y*t)},i.middle=function(e){return this.interpolate(e,.5)},i.getMiddle=function(e){return this.getInterpolated(e,.5)},i.average=function(e){var t=0,n=0,r=e.length;for(var i=0;i<r;i++)t+=e[i].x,n+=e[i].y;return t/=r,n/=r,this.x=t,this.y=n,this},i.turnLeft=function(){var e=this.x;return this.x=this.y,this.y=-e,this},i.turnRight=function(){var e=this.x;return this.x=-this.y,this.y=e,this}}(window,window.jQuery,window.Yals||(window.Yals={})),function(e,t,n,r){"use strict";n.Keyboard={};var i={0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,tab:9,enter:13,shift:16,ctrl:17,alt:18,esc:27,space:32,backspace:8,pageup:33,pagedown:34,insert:45,del:46,"*":106,"+":107,"-":109,".":110,"/":111,"=":187,left:37,up:38,right:39,down:40},s={},o=function(e){e=e||window.event;var t=e.keyCode||e.which,n=e.type;n==="keydown"?s[t]=!0:n==="keyup"&&(s[t]=!1)},u=function(e){var t=e.length,n;for(n=0;n<t;n++)if(!s[i[e[n].toLowerCase()]])return!1;return!0};n.Keyboard.capture=function(e){return e.addEventListener("keydown",o,!1),e.addEventListener("keyup",o,!1),n.Keyboard},n.Keyboard.isDown=function(e){var t;if(typeof e=="string"){var n=e.split(" ");if(n.length>1)return u(n);t=i[e.toLowerCase()];if(typeof t=="undefined")throw new TypeError("Invalid key given. The key "+e.toLowerCase()+" has no valid keyCode.")}else{if(Object.prototype.toString.call(e)==="[object Array]")return u(e);typeof e=="number"&&(t=e)}return t&&typeof s[t]=="undefined"&&(s[t]=!1),s[t]}}(window,window.jQuery,window.Yals||{}),function(e,t,n,r){"use strict";n.Mouse={},n.Mouse.capture=function(t){var n={x:0,y:0,isDown:!1,wasClicked:function(){return s&&!n.isDown&&r?(r=!1,!0):!1}},r=!0,i=!1,s;return t.addEventListener("mousemove",function(r){var i,s,o=e.document;r.pageX||r.pageY?(i=r.pageX,s=r.pageY):(i=r.clientX+o.body.scrollLeft+o.documentElement.scrollLeft,s=r.clientY+o.body.scrollTop+o.documentElement.scrollTop),i-=t.offsetLeft,s-=t.offsetTop,n.x=i,n.y=s},!1),t.addEventListener("mousedown",function(e){s=n.isDown,r=!0,n.isDown=Date.now()},!1),t.addEventListener("mouseup",function(e){i=n.isDown,s=n.isDown,n.isDown=!1},!1),n}}(window,window.jQuery,window.Yals||{}),function(e,t,n,r){"use strict";n.Color={};var i=function(t,n,r){return t<=n?n:t>=r?r:t};n.Color.parsers=[{example:[3554431,16809984],regex:/^\d+$/,process:function(e){return{r:e>>16&255,g:e>>8&255,b:e&255}}},{example:["#fb0","f0f"],regex:/^#?([\dA-F]{1})([\dA-F]{1})([\dA-F]{1})$/i,process:function(e,t,n,r){return{r:parseInt(t+t,16),g:parseInt(n+n,16),b:parseInt(r+r,16)}}},{example:["#00ff00","336699"],regex:/^#?([\dA-F]{2})([\dA-F]{2})([\dA-F]{2})$/i,process:function(e,t,n,r){return{r:parseInt(t,16),g:parseInt(n,16),b:parseInt(r,16)}}},{example:["rgb(123, 234, 45)","rgb(25, 50%, 100%)","rgba(12%, 34, 56%, 0.78)"],regex:/^rgba*\((\d{1,3}\%*),\s*(\d{1,3}\%*),\s*(\d{1,3}\%*)(?:,\s*([0-9.]+))?\)/,process:function(e,t,n,s,o){return t=t&&t.slice(-1)=="%"?Math.round(t.slice(0,-1)*2.55):t*1,n=n&&n.slice(-1)=="%"?Math.round(n.slice(0,-1)*2.55):n*1,s=s&&s.slice(-1)=="%"?Math.round(s.slice(0,-1)*2.55):s*1,o=o&&o.slice(-1)=="%"?Math.round(o.slice(0,-1)*100):o*1,{r:i(t,0,255),g:i(n,0,255),b:i(s,0,255),a:i(o,0,1)||r}}},{example:["hsl(123, 34%, 45%)","hsla(25, 50%, 100%, 0.75)","hsv(12, 34%, 56%)"],regex:/^hs([bvl])a*\((\d{1,3}\%*),\s*(\d{1,3}\%*),\s*(\d{1,3}\%*)(?:,\s*([0-9.]+))?\)/,process:function(e,t,n,r,s,o){n*=1,r=r.slice(0,-1)/100,s=s.slice(0,-1)/100,o*=1;var u={h:i(n,0,360),s:i(r,0,1),a:i(s,0,1)};return u[t]=i(s,0,1),u}}],n.Color.hexToRgb=function(t,n){return typeof t=="string"&&t[0]==="#"&&(t=e.parseInt(t.slice(1),16)),n=n||1,{r:t>>16&255,g:t>>8&255,b:t&255,a:i(n,0,1)}},n.Color.multiply=function(e,t){return e.r*=t,e.g*=t,e.b*=t,e.a*=t,e},n.Color.rgbObjToArr=function(e){return[e.r,e.g,e.b,e.a]},n.Color.hexToString=function(e){return"#"+("00000"+(e|0).toString(16).toUpperCase()).substr(-6)},n.Color.rgbToHex=function(e){return e.r<<16|e.g<<8|e.b},n.Color.rgbToString=function(e){return"rgba( "+e.join(", ")+" )"},n.Color.toRGB=function(t,n){typeof t=="string"&&t[0]==="#"&&(t=e.parseInt(t.slice(1),16)),n=n===r?1:n;var i=t>>16&255,s=t>>8&255,o=t&255,u=n<0?0:n>1?1:n;return u===1?"rgb("+i+","+s+","+o+")":"rgba("+i+","+s+","+o+","+u+")"}}(window,window.jQuery,window.Yals||{}),function(e,t,n,r){"use strict";n.Box=function(e,t,n,r){var i=50;this.startingPoint=e,this.renderCallback=r,this.width=t||i,this.height=n||i,this.rotation=0,this.scaleX=1,this.scaleY=1,this.color="black",this.border=!1},n.Box.prototype.render=function(e){e.translate(this.startingPoint.x+this.width/2,this.startingPoint.y+this.height/2),this.rotation!==0&&this.rotation!==2*Math.PI&&e.rotate(this.rotation),(this.scaleX!==1||this.scaleY!==1)&&e.scale(this.scaleX,this.scaleY),e.fillStyle=this.color,e.beginPath(),e.rect(-this.width/2,-this.height/2,this.width,this.height),e.fill(),typeof this.renderCallback=="function"&&this.renderCallback(e),this.border&&e.stroke()}}(window,jQuery,Yals||{}),function(e,t,n,r){"use strict";n.Circle=function(e,t,n){var r=50;this.position=e,this.renderCallback=n,this.radius=t||r,this.rotation=0,this.scaleX=1,this.scaleY=1,this.color="black",this.border=!1};var i=n.Circle.prototype;i.intersectsBox=function(e){var t=this.position,n=e.startingPoint,r=t.x-(n.x+e.width/2),i=t.y-(n.y+e.height/2);r=(r>=0?r:-r)+.5>>0,i=(i>=0?i:-i)+.5>>0;if(r>e.width/2+this.radius||i>e.height/2+this.radius)return!1;if(r<=e.width/2||i<=e.height/2)return!0;r-=e.width/2,i-=e.height/2;var s=r*r+i*i;return s<=this.radius*this.radius},i.render=function(e){e.translate(this.position.x,this.position.y),e.rotate(this.rotation),e.scale(this.scaleX,this.scaleY),e.fillStyle=this.color,e.beginPath(),e.arc(0,0,this.radius,0,Math.PI*2,!0),e.closePath(),e.fill(),typeof this.renderCallback=="function"&&this.renderCallback(e),this.border&&e.stroke()}}(window,window.jQuery,window.Yals||{}),function(e,t,n,r){"use strict";n.Line=function(e,t){this.startingPoint=e,this.endingPoint=t,this.rotation=0,this.scaleX=1,this.scaleY=1,this.color="black",this.width=1};var i=n.Line.prototype;i.render=function(e){var t=this.startingPoint,n=this.endingPoint;e.translate(t.x,t.y),e.rotate(this.rotation),e.scale(this.scaleX,this.scaleY),e.strokeStyle=this.color,e.lineWidth=this.width,e.beginPath(),e.moveTo(0,0),e.lineTo(n.x,n.y),e.closePath(),e.stroke()}}(window,window.jQuery,window.Yals||{}),function(e,t,n,r){"use strict";n.Polygon=function(e,t,n,r){var i=50;this.centralPoint=e,this.numberOfSides=n&&n<=3?3:n||3,this.renderCallback=r,this.size=t||i,this.rotation=0,this.scaleX=1,this.scaleY=1,this.color="black",this.border=!1};var i=n.Polygon.prototype;i.render=function(e){var t=this.centralPoint,n=this.numberOfSides,r=this.size;e.beginPath(),e.moveTo(t.x+r*Math.cos(0),t.y+r*Math.sin(0));for(var i=1;i<=n;i+=1)e.lineTo(t.x+r*Math.cos(i*2*Math.PI/n),t.y+r*Math.sin(i*2*Math.PI/n));e.fillStyle=this.color,e.fill(),typeof this.renderCallback=="function"&&this.renderCallback(e),this.border&&e.stroke()}}(window,window.jQuery,window.Yals||{}),function(e,t,n,r){"use strict";n.Text=function(e,t,n,r){var i=50;this.size=n||i,this.position=e,this.scaleX=1,this.scaleY=1,this.value=t||"Hail Yals!",this.type="Arial",this.color="black",this.border=!1};var i=n.Text.prototype;i.render=function(e){e.font=this.size+"px "+this.type,e.fillStyle=this.color,e.beginPath(),e.fillText(this.value,this.position.x,this.position.y),e.closePath(),e.fill(),typeof this.renderCallback=="function"&&this.renderCallback(e),this.border&&e.stroke()}}(window,window.jQuery,window.Yals||{})